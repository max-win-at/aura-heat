<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AURA HEAT | Die W√§rmewolke der Zukunft</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        /* Custom Font Import if needed, using system fonts for speed/reliability */
        body { font-family: 'Inter', system-ui, -apple-system, sans-serif; }
        .slide-in { animation: slideIn 0.5s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .chart-container { 
            position: relative; 
            width: 100%; 
            max-width: 600px; 
            margin-left: auto; 
            margin-right: auto; 
            height: 300px; 
            max-height: 400px; 
        }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        
        /* Interactive Card Hover Effects */
        .interactive-card { transition: all 0.3s ease; border-left: 4px solid transparent; }
        .interactive-card:hover { transform: translateX(5px); border-left-color: #f97316; background-color: #fff7ed; }
        .interactive-card.active { border-left-color: #ea580c; background-color: #ffedd5; }
        
        /* Smooth Scroll */
        html { scroll-behavior: smooth; }
    </style>
    <!-- Chosen Palette: Warm Tech - Slate (Structure/Tech), Orange/Amber (Heat/Energy), Neutral Gray/White (Background) -->
    <!-- Application Structure Plan:
        1. Hero Section: Emotional hook ("Money earning heating").
        2. Context Dashboard: The "Two Crises" (Heating & AI) - Interactive Toggle.
        3. The Solution (Aura Core): Tech specs, "Altbau" advantage visualization (Heat Pump vs Aura).
        4. Business Logic: Interactive Flowchart showing how revenue subsidizes heat.
        5. Interactive Calculator: User inputs house size/type, gets 10-year cost comparison chart.
        6. Stakeholder View: Tabs for Tenant, Landlord, SME.
    -->
    <!-- Visualization & Content Choices:
        - Cost Comparison: Bar Chart (Chart.js) -> Clear winner visualization.
        - Revenue Mix: Doughnut Chart (Chart.js) -> Shows diversity of income (AI, Crypto, Elastic).
        - Efficiency Curve: Line Chart (Chart.js) -> Demonstrates Aura's advantage in cold weather vs Heat Pumps.
        - Process Flow: HTML/CSS Grid with JS interaction -> Explains the complex business model simply.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Navigation -->
    <nav class="bg-white shadow-md fixed w-full z-50 top-0">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-slate-800 tracking-tighter">AURA<span class="text-orange-500">HEAT</span></span>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#vision" class="text-slate-600 hover:text-orange-600 font-medium transition">Vision</a>
                    <a href="#tech" class="text-slate-600 hover:text-orange-600 font-medium transition">Technologie</a>
                    <a href="#business" class="text-slate-600 hover:text-orange-600 font-medium transition">Business Case</a>
                    <a href="#calculator" class="px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition shadow-sm font-bold">Kostenrechner</a>
                </div>
                <!-- Mobile Menu Button (Simplified for SPA) -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-slate-600 hover:text-orange-600">‚ò∞</button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t p-4">
            <a href="#vision" class="block py-2 text-slate-600">Vision</a>
            <a href="#tech" class="block py-2 text-slate-600">Technologie</a>
            <a href="#business" class="block py-2 text-slate-600">Business Case</a>
            <a href="#calculator" class="block py-2 text-orange-600 font-bold">Kostenrechner</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="pt-32 pb-20 bg-gradient-to-br from-slate-900 to-slate-800 text-white relative overflow-hidden">
        <div class="absolute top-0 right-0 w-1/3 h-full bg-orange-500 opacity-10 skew-x-12 transform origin-top-right"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center md:text-left md:w-2/3">
                <div class="inline-block px-3 py-1 bg-orange-500/20 text-orange-300 rounded-full text-sm font-semibold mb-6 border border-orange-500/30">
                    Die Energiewende im Heizungskeller
                </div>
                <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight leading-tight mb-6">
                    Ihre Heizung verdient Geld.<br>
                    <span class="text-orange-400">Ihre Daten bleiben sicher.</span>
                </h1>
                <p class="text-lg md:text-xl text-slate-300 mb-10 leading-relaxed max-w-2xl">
                    AURA HEAT verwandelt Server-Abw√§rme in CO‚ÇÇ-arme Heizenergie. Wir bauen die erste dezentrale High-Performance-Cloud der Region ‚Äì direkt in Ihrer Nachbarschaft.
                </p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <a href="#calculator" class="px-8 py-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition font-bold text-center shadow-lg hover:shadow-orange-500/25">
                        Ersparnis berechnen
                    </a>
                    <a href="#tech" class="px-8 py-4 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition font-medium text-center border border-slate-600">
                        Wie es funktioniert
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Section 1: Context & Vision -->
    <section id="vision" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-slate-900 mb-4">Zwei Krisen, Eine L√∂sung</h2>
                <p class="text-slate-600 max-w-2xl mx-auto">
                    Wir verbinden zwei massive Marktprobleme zu einer Synergie. Klicken Sie auf die Karten, um die Details zu verstehen.
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-8">
                <!-- Crisis 1 -->
                <div class="interactive-card p-8 rounded-xl bg-slate-50 border border-slate-200 cursor-pointer shadow-sm" onclick="toggleVision('crisis-heat')">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-slate-800">üî• Die W√§rmekrise</h3>
                        <span class="text-2xl">üìâ</span>
                    </div>
                    <p class="text-slate-600">Explodierende Heizkosten, teure W√§rmepumpen-Sanierungen und politische Unsicherheit belasten Mieter und Eigent√ºmer.</p>
                    <div id="crisis-heat-detail" class="hidden mt-4 pt-4 border-t border-slate-200 text-sm text-slate-700">
                        <strong class="text-orange-600 block mb-2">Die AURA L√∂sung:</strong>
                        Der AURA Core kostet in der Anschaffung weniger als 8.000 ‚Ç¨ (vs. 25k ‚Ç¨ f√ºr W√§rmepumpen) und subventioniert die laufenden Kosten komplett.
                    </div>
                </div>

                <!-- Crisis 2 -->
                <div class="interactive-card p-8 rounded-xl bg-slate-50 border border-slate-200 cursor-pointer shadow-sm" onclick="toggleVision('crisis-ai')">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-slate-800">ü§ñ Die KI-Datenkrise</h3>
                        <span class="text-2xl">üîí</span>
                    </div>
                    <p class="text-slate-600">KMUs brauchen KI-Infrastruktur, wollen ihre sensiblen Daten aber nicht an US-Hyperscaler √ºbergeben. Lokale L√∂sungen fehlen.</p>
                    <div id="crisis-ai-detail" class="hidden mt-4 pt-4 border-t border-slate-200 text-sm text-slate-700">
                        <strong class="text-orange-600 block mb-2">Die AURA L√∂sung:</strong>
                        Eine dezentrale Cloud in der Region. Daten bleiben physisch vor Ort. Infrastructure-as-a-Service f√ºr lokale KMUs.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Technology (Altbau Focus) -->
    <section id="tech" class="py-20 bg-slate-50 border-t border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                
                <!-- Text Content -->
                <div>
                    <div class="text-orange-600 font-bold tracking-wide uppercase text-sm mb-2">Technologie</div>
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-6">Der AURA Core: Mehr als eine Heizung</h2>
                    <p class="text-slate-600 mb-6 text-lg">
                        Keine W√§rmepumpe, sondern eine <span class="font-bold text-slate-900">Hochtemperatur-W√§rmequelle</span>. 
                        W√§rmepumpen scheitern im Altbau oft an den ben√∂tigten Vorlauftemperaturen. 
                        Unsere Server-Prozessoren laufen naturgem√§√ü hei√ü (bis 90¬∞C) und liefern m√ºhelos die f√ºr alte Heizk√∂rper n√∂tigen 70¬∞C.
                    </p>
                    
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-start">
                            <span class="text-orange-500 mr-2">‚úì</span>
                            <div>
                                <strong class="text-slate-800">Skalierbar:</strong> Modulares Design von 5 kW (Wohnung) bis 30 kW (Mehrfamilienhaus).
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-orange-500 mr-2">‚úì</span>
                            <div>
                                <strong class="text-slate-800">Altbau-Ready:</strong> Kein Austausch der Heizk√∂rper n√∂tig. Vorlauftemperatur bis 75¬∞C.
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-orange-500 mr-2">‚úì</span>
                            <div>
                                <strong class="text-slate-800">Fl√ºsterleise:</strong> Geschlossene Fl√ºssigkeitsk√ºhlung ohne laute L√ºfter.
                            </div>
                        </li>
                    </ul>

                    <!-- Unit Selector Buttons -->
                    <div class="flex space-x-2 mb-6">
                        <button onclick="updateTechSpec('S')" class="tech-btn px-4 py-2 rounded border border-slate-300 bg-white hover:bg-slate-100 focus:ring-2 focus:ring-orange-500 active">Core S (Wohnung)</button>
                        <button onclick="updateTechSpec('M')" class="tech-btn px-4 py-2 rounded border border-slate-300 bg-white hover:bg-slate-100 focus:ring-2 focus:ring-orange-500">Core M (Haus)</button>
                        <button onclick="updateTechSpec('XL')" class="tech-btn px-4 py-2 rounded border border-slate-300 bg-white hover:bg-slate-100 focus:ring-2 focus:ring-orange-500">Core XL (MFH)</button>
                    </div>
                    <div id="tech-spec-display" class="bg-white p-4 rounded-lg border border-slate-200 shadow-sm text-sm">
                        <div class="grid grid-cols-2 gap-4">
                            <div>Heizleistung: <span class="font-bold text-slate-900">5 kW</span></div>
                            <div>GPU Module: <span class="font-bold text-slate-900">5 Einheiten</span></div>
                            <div>Zielgruppe: <span class="font-bold text-slate-900">Etagenwohnung (ca. 80m¬≤)</span></div>
                            <div>Amortisation: <span class="font-bold text-orange-600">~6 Monate</span></div>
                        </div>
                    </div>
                </div>

                <!-- Chart Column -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100">
                    <h3 class="text-lg font-bold text-slate-800 mb-2">Warum AURA im Winter gewinnt</h3>
                    <p class="text-sm text-slate-500 mb-6">Vergleich der Heizleistung bei sinkender Au√üentemperatur</p>
                    
                    <div class="chart-container">
                        <canvas id="efficiencyChart"></canvas>
                    </div>
                    <p class="text-xs text-slate-400 mt-4 text-center">
                        W√§hrend W√§rmepumpen bei Minusgraden ineffizient werden (Stromverbrauch steigt massiv), liefert der AURA Core konstante W√§rme aus Rechenleistung.
                    </p>
                </div>

            </div>
        </div>
    </section>

    <!-- Section 3: Business Model Analysis -->
    <section id="business" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-900">Der Geldkreislauf</h2>
                <p class="text-slate-600 max-w-2xl mx-auto mt-4">
                    Wie kann Heizen fast kostenlos sein? Weil die W√§rme nur ein "Abfallprodukt" unseres eigentlichen Gesch√§fts ist: Infrastructure-as-a-Service.
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-12">
                <!-- Interactive Flow Explanation -->
                <div class="space-y-4">
                    <h3 class="font-bold text-xl text-slate-800 mb-4">Das Finanz-√ñkosystem</h3>
                    
                    <div onclick="highlightFlow(1)" class="flow-step cursor-pointer p-4 rounded border border-slate-200 hover:border-orange-400 hover:bg-orange-50 transition relative">
                        <div class="absolute left-0 top-0 bottom-0 w-1 bg-slate-300 rounded-l"></div>
                        <div class="flex justify-between items-center">
                            <span class="font-bold text-slate-700">1. Die Investition</span>
                            <span class="text-xs bg-slate-200 px-2 py-1 rounded">Start</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-1">Kunde zahlt ~8.000‚Ç¨ (Sonderpreis) f√ºr Hardware im Wert von 60.000‚Ç¨.</p>
                    </div>

                    <div onclick="highlightFlow(2)" class="flow-step cursor-pointer p-4 rounded border border-slate-200 hover:border-orange-400 hover:bg-orange-50 transition relative">
                        <div class="absolute left-0 top-0 bottom-0 w-1 bg-slate-300 rounded-l"></div>
                        <div class="flex justify-between items-center">
                            <span class="font-bold text-slate-700">2. Der Betrieb (Kosten)</span>
                            <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded">-2,40 ‚Ç¨ / Std</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-1">Stromverbrauch f√ºr 8kW Leistung (ca. 30ct/kWh).</p>
                    </div>

                    <div onclick="highlightFlow(3)" class="flow-step cursor-pointer p-4 rounded border border-slate-200 hover:border-orange-400 hover:bg-orange-50 transition relative">
                        <div class="absolute left-0 top-0 bottom-0 w-1 bg-slate-300 rounded-l"></div>
                        <div class="flex justify-between items-center">
                            <span class="font-bold text-slate-700">3. Die Einnahmen (Revenue)</span>
                            <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded">+16,32 ‚Ç¨ / Std</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-1">Verkauf von Rechenleistung (AI, Rendering, Mining).</p>
                    </div>

                    <div onclick="highlightFlow(4)" class="flow-step cursor-pointer p-4 rounded border border-slate-200 hover:border-orange-400 hover:bg-orange-50 transition relative">
                        <div class="absolute left-0 top-0 bottom-0 w-1 bg-orange-500 rounded-l"></div>
                        <div class="flex justify-between items-center">
                            <span class="font-bold text-orange-700">4. Der Gewinn & Subvention</span>
                            <span class="text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded font-bold">= 13,92 ‚Ç¨ / Std</span>
                        </div>
                        <p class="text-sm text-slate-600 mt-1">Dieser √úberschuss deckt die Stromrechnung des Kunden und amortisiert die Hardware in < 6 Monaten.</p>
                    </div>
                </div>

                <!-- Revenue Mix Chart -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 flex flex-col justify-center">
                    <h3 class="text-lg font-bold text-slate-800 mb-2 text-center">Einnahmen-Mix pro Stunde</h3>
                    <div class="chart-container">
                        <canvas id="revenueChart"></canvas>
                    </div>
                    <div class="mt-6 text-center text-sm text-slate-500">
                        Diversifizierung sorgt f√ºr Stabilit√§t: Wenn keine KI-Auftr√§ge da sind, sch√ºrft das System automatisch Krypto (Mining).
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Calculator -->
    <section id="calculator" class="py-20 bg-slate-900 text-white relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="grid lg:grid-cols-2 gap-16">
                
                <!-- Inputs -->
                <div>
                    <h2 class="text-3xl font-bold text-white mb-6">Ihr 10-Jahres-Vergleich</h2>
                    <p class="text-slate-400 mb-8">Berechnen Sie, wie AURA HEAT im Vergleich zu Gas, Pellets und W√§rmepumpen abschneidet.</p>
                    
                    <div class="space-y-6 bg-slate-800 p-6 rounded-xl border border-slate-700">
                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Geb√§udetyp</label>
                            <select id="buildingType" class="w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-orange-500 focus:border-transparent transition" onchange="calculateSavings()">
                                <option value="flat">Wohnung (80m¬≤)</option>
                                <option value="house" selected>Einfamilienhaus (150m¬≤)</option>
                                <option value="large">Mehrfamilienhaus (400m¬≤)</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Aktuelle Heizkosten (‚Ç¨ pro Jahr)</label>
                            <input type="range" id="currentCost" min="1000" max="10000" step="100" value="2500" class="w-full h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-orange-500" oninput="updateRangeLabel(this.value); calculateSavings()">
                            <div class="flex justify-between text-xs text-slate-400 mt-2">
                                <span>1.000 ‚Ç¨</span>
                                <span id="costLabel" class="text-orange-400 font-bold">2.500 ‚Ç¨</span>
                                <span>10.000 ‚Ç¨</span>
                            </div>
                        </div>

                        <div class="p-4 bg-orange-900/30 border border-orange-500/30 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="text-orange-200">Ihre gesch√§tzte Ersparnis (10 Jahre):</span>
                                <span id="totalSavingsDisplay" class="text-2xl font-bold text-orange-400">0 ‚Ç¨</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Results Chart -->
                <div>
                    <div class="chart-container bg-slate-800 rounded-xl p-4 border border-slate-700">
                        <canvas id="comparisonChart"></canvas>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-6">
                        <div class="p-4 bg-slate-800 rounded-lg border border-slate-700">
                            <div class="text-xs text-slate-400">W√§rmepumpe (10J)</div>
                            <div id="hpCostDisplay" class="text-xl font-bold text-slate-200">~42.000 ‚Ç¨</div>
                        </div>
                        <div class="p-4 bg-slate-800 rounded-lg border border-orange-500/50 shadow-[0_0_15px_rgba(249,115,22,0.2)]">
                            <div class="text-xs text-orange-300">AURA HEAT (10J)</div>
                            <div id="auraCostDisplay" class="text-xl font-bold text-orange-400">< 10.000 ‚Ç¨</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Footer / Stakeholders -->
    <section class="py-16 bg-white border-t border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-2xl font-bold text-slate-900 mb-10">Ein √ñkosystem, bei dem jeder gewinnt</h2>
            
            <div class="grid md:grid-cols-3 gap-8">
                <div class="p-6 bg-slate-50 rounded-xl">
                    <div class="text-3xl mb-4">üè†</div>
                    <h3 class="font-bold text-slate-800 mb-2">Hauseigent√ºmer</h3>
                    <p class="text-sm text-slate-600">G√ºnstigste Heizl√∂sung am Markt. Wertsteigerung der Immobilie. Unabh√§ngigkeit von Gas.</p>
                </div>
                <div class="p-6 bg-slate-50 rounded-xl">
                    <div class="text-3xl mb-4">üè¢</div>
                    <h3 class="font-bold text-slate-800 mb-2">Vermieter</h3>
                    <p class="text-sm text-slate-600">"Heizkosten-Flatrate" als USP f√ºr Mieter. CO‚ÇÇ-Steuer-Ersparnis. Einfache Modernisierung.</p>
                </div>
                <div class="p-6 bg-slate-50 rounded-xl">
                    <div class="text-3xl mb-4">üíº</div>
                    <h3 class="font-bold text-slate-800 mb-2">Regionale KMUs</h3>
                    <p class="text-sm text-slate-600">Sichere, lokale KI-Cloud. Datensouver√§nit√§t (kein US-Server). Elastische Rechenleistung.</p>
                </div>
            </div>
            
            <div class="mt-16">
                <p class="text-slate-500 text-sm mb-4">¬© 2026 AURA HEAT. Alle Berechnungen sind Sch√§tzungen basierend auf Marktpreisen von 2025.</p>
            </div>
        </div>
    </section>

    <script>
        // --- State & Data ---
        const specs = {
            'S': { kw: '5 kW', modules: '5', target: 'Etagenwohnung (ca. 80m¬≤)', invest: '< 6.000 ‚Ç¨' },
            'M': { kw: '8 kW', modules: '8', target: 'Einfamilienhaus (ca. 150m¬≤)', invest: '< 8.000 ‚Ç¨' },
            'XL': { kw: '30 kW', modules: '30', target: 'Mehrfamilienhaus (ca. 400m¬≤)', invest: 'Auf Anfrage' }
        };

        // --- Charts Initialization ---
        let efficiencyChart, revenueChart, comparisonChart;

        window.addEventListener('load', () => {
            initEfficiencyChart();
            initRevenueChart();
            initComparisonChart();
            calculateSavings(); // Initial calc
        });

        // 1. Efficiency Chart (Line)
        function initEfficiencyChart() {
            const ctx = document.getElementById('efficiencyChart').getContext('2d');
            efficiencyChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['10¬∞C', '5¬∞C', '0¬∞C', '-5¬∞C', '-10¬∞C', '-15¬∞C'],
                    datasets: [
                        {
                            label: 'AURA Core (Abw√§rme)',
                            data: [100, 100, 100, 100, 100, 100], // Constant efficiency
                            borderColor: '#f97316', // Orange-500
                            backgroundColor: '#f97316',
                            borderWidth: 3,
                            tension: 0
                        },
                        {
                            label: 'Luft-W√§rmepumpe (Altbau)',
                            data: [90, 80, 65, 50, 35, 20], // Drops in cold
                            borderColor: '#94a3b8', // Slate-400
                            backgroundColor: '#94a3b8',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: { 
                            callbacks: {
                                label: (context) => context.dataset.label + ': ' + context.raw + '% Effizienz'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Effizienz / Leistung (%)' },
                            grid: { color: '#f1f5f9' }
                        },
                        x: {
                            title: { display: true, text: 'Au√üentemperatur' },
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        // 2. Revenue Chart (Doughnut)
        function initRevenueChart() {
            const ctx = document.getElementById('revenueChart').getContext('2d');
            revenueChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['KI-Hosting (B2B)', 'Elastic Compute', 'Crypto Mining (Leerlauf)'],
                    datasets: [{
                        data: [58, 30, 12], // Approximate based on deck numbers (9.60, 4.80, 1.92)
                        backgroundColor: [
                            '#ea580c', // Orange-600
                            '#fb923c', // Orange-400
                            '#cbd5e1'  // Slate-300
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' }
                    }
                }
            });
        }

        // 3. Comparison Chart (Bar) - Updated by Calculator
        function initComparisonChart() {
            const ctx = document.getElementById('comparisonChart').getContext('2d');
            comparisonChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Gastherme', 'W√§rmepumpe', 'AURA HEAT'],
                    datasets: [{
                        label: 'Gesamtkosten √ºber 10 Jahre (‚Ç¨)',
                        data: [39000, 42500, 8000],
                        backgroundColor: [
                            '#64748b', // Slate-500
                            '#94a3b8', // Slate-400
                            '#f97316'  // Orange-500
                        ],
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: (ctx) => `ca. ${ctx.raw.toLocaleString()} ‚Ç¨`
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { color: '#334155' },
                            ticks: { color: '#94a3b8' }
                        },
                        x: {
                            grid: { display: false },
                            ticks: { color: '#e2e8f0', font: { weight: 'bold' } }
                        }
                    }
                }
            });
        }

        // --- Interaction Logic ---

        function toggleVision(id) {
            // Hide all details first
            document.getElementById('crisis-heat-detail').classList.add('hidden');
            document.getElementById('crisis-ai-detail').classList.add('hidden');
            
            // Remove active class from cards
            document.querySelectorAll('.interactive-card').forEach(el => el.classList.remove('active'));
            
            // Show selected
            const detail = document.getElementById(id + '-detail');
            detail.classList.remove('hidden');
            detail.classList.add('slide-in');
            
            // Add active state to parent
            event.currentTarget.classList.add('active');
        }

        function updateTechSpec(size) {
            const buttons = document.querySelectorAll('.tech-btn');
            buttons.forEach(btn => btn.classList.remove('active', 'bg-slate-100', 'ring-2', 'ring-orange-500'));
            event.currentTarget.classList.add('active', 'bg-slate-100', 'ring-2', 'ring-orange-500');

            const data = specs[size];
            const html = `
                <div class="grid grid-cols-2 gap-4 slide-in">
                    <div>Heizleistung: <span class="font-bold text-slate-900">${data.kw}</span></div>
                    <div>Module: <span class="font-bold text-slate-900">${data.modules} Einheiten</span></div>
                    <div>Zielgruppe: <span class="font-bold text-slate-900">${data.target}</span></div>
                    <div>Invest (ca.): <span class="font-bold text-orange-600">${data.invest}</span></div>
                </div>
            `;
            document.getElementById('tech-spec-display').innerHTML = html;
        }

        function highlightFlow(step) {
            // Visual feedback for flow steps (could expand to show more detail)
            const steps = document.querySelectorAll('.flow-step');
            steps.forEach(s => s.classList.remove('bg-orange-50', 'border-orange-400'));
            steps[step-1].classList.add('bg-orange-50', 'border-orange-400');
        }

        function updateRangeLabel(val) {
            document.getElementById('costLabel').innerText = parseInt(val).toLocaleString() + ' ‚Ç¨';
        }

        function calculateSavings() {
            const type = document.getElementById('buildingType').value;
            const currentAnnualCost = parseInt(document.getElementById('currentCost').value);
            
            // Base Assumptions for 10 years
            // Gas: Install 12k + 10 * currentAnnualCost + Maintenance 2k
            // HP: Install 25k + (0.7 * currentAnnualCost [efficiency gain]) * 10 + Maintenance 1.5k
            // Aura: Install 8k (approx) + 0 Energy + 0 Maintenance
            
            let installGas = 12000;
            let installHP = 25000;
            let installAura = 8000;
            
            if (type === 'flat') { installGas = 8000; installHP = 18000; installAura = 5000; }
            if (type === 'large') { installGas = 18000; installHP = 40000; installAura = 15000; }

            const gasTotal = installGas + (currentAnnualCost * 10) + 2000;
            
            // HP efficiency assumption: costs about 60-70% of gas usually, but high install
            const hpTotal = installHP + (currentAnnualCost * 0.7 * 10) + 1500;
            
            const auraTotal = installAura; // Energy & Maintenance covered by subsidy

            const saving = Math.max(gasTotal, hpTotal) - auraTotal;

            // Update DOM
            document.getElementById('totalSavingsDisplay').innerText = saving.toLocaleString() + ' ‚Ç¨';
            document.getElementById('hpCostDisplay').innerText = '~' + hpTotal.toLocaleString() + ' ‚Ç¨';
            document.getElementById('auraCostDisplay').innerText = '< ' + auraTotal.toLocaleString() + ' ‚Ç¨';

            // Update Chart
            comparisonChart.data.datasets[0].data = [gasTotal, hpTotal, auraTotal];
            comparisonChart.update();
        }

        // Mobile Menu Toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', () => {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

    </script>
</body>
</html>
